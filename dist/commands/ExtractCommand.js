import{existsSync as o,mkdirSync as t,readFileSync as e,writeFileSync as r}from"node:fs";import{join as i}from"node:path";import{fatal as n}from"@triforce-heroes/triforce-core/Console";import{normalize as f}from"@triforce-heroes/triforce-core/Path";import{getEntries as m}from"../Reader.js";export function ExtractCommand(s,c,a){o(s)||n(`File not found: ${s}`),o(c)||n(`File not found: ${c}`);let d=f(a??`${s}_contents`);o(d)||t(d),process.stdout.write(`Extracting ${f(s)} to ${d}... `);let p=Date.now();for(let o of m(e(s),e(c)))r(i(d,o.name),o.data);process.stdout.write(`OK (${((Date.now()-p)/1e3).toFixed(2)}s)
`)}